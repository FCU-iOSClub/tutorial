# 嵌套迴圈

目標：使用其他迴圈內的迴圈來繞著螺線行走

## 簡介

在這個關卡中，留意寶石螺線，每個轉彎處都會有一顆。若要通關，你需要在一個迴圈中嵌套另一個迴圈。別擔心！這沒有聽起來這麼困難！

在你編寫程式碼之前，先構想一下。在螺線的第一側，你需要向前走直到有寶石可以收集。收集寶石後就向左轉，準備前往螺線的另一側。這個模式會重複下去，直到你到達螺線最裡面的一點的死路。

當你編寫使用嵌套迴圈的程式碼時，需要反向思考。你在這個關卡中寫的第一個迴圈代表著上述邏輯的最後一個部分，就是「重複直到受阻」的部分。

1. 加入條件到外迴圈，讓內迴圈重複直到你的角色受阻。
2. 調整內迴圈來向前走，直到有寶石可以收集。
3. 一旦角色到達寶石所在，就收集寶石並左轉。

![img](https://imagedelivery.net/cdkaXPuFls5qlrh3GM4hfA/b375719b-e9b0-4b1f-5d97-481eaccc7700/public)

## 講解

這個關卡的挑戰在於需要反向思考，將過程拆分為「重複直到受阻」和「向前走、收集寶石、轉向」兩個部分。通過嵌套迴圈來實現這兩個部分，你可以輕鬆地繞著螺線行走，收集所有的寶石。

## 解答

--8<-- "docs/snippets/danger-do-it-yourself.txt"

```swift linenums="1"
while !isBlocked {
    while !isOnGem {
        moveForward()
    }
    collectGem()
    turnLeft()
}
```

## 後記

通過這個關卡，你已經學會了如何使用嵌套迴圈來處理複雜的問題。在程式設計中，嵌套迴圈是一種非常常見的技巧，能夠大大提高編程效率和代碼可讀性。

